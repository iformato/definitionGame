import random
from random import randint
from bs4 import BeautifulSoup
import requests

with open('file1.txt', 'r') as f:
    words = f.readlines()
wordsLength = len(words)-1


while True:
    myNumber = random.randint(0, wordsLength)
    word = words[myNumber]
    lives = 3
    while lives > 0:
        sep = '\\'
        word = word.split(sep, 1)[0]
        # print(word)
        url = f'https://www.merriam-webster.com/dictionary/{word}'
        myGet = requests.get(url)
        doc = BeautifulSoup(myGet.text,'html.parser')
        myDefinition = doc.find('span', class_='dtText')
        myDefinition=myDefinition.text
        word = doc.find('h1',class_='hword')
        word=word.text
        print(myDefinition)
        wordLength = len(word)
        print(f'the word is {wordLength} letters long')

        myGuess = input('what is this word?\n')
        if myGuess == word:
            print('you got it!')
            break
        else:
            lives-=1
            print('wrong')
            if lives == 2:
                print(f'the first letter is {word[0]}')
            elif lives == 1:
                print(f'the first letter is {word[0]} and the second letter is {word[1]}')
            else:
                print('you lose :(')
                print(f'{word}')
    myAction = input('play again?')
    if 'yes' in myAction:
        continue
    else:
        print('thank you for playing!')
